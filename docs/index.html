<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Dungeon Together</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0" />
		<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css" />
	</head>

	<body>
		<div id="app"></div>

		<script>
			// Shared constants
			const basePath = ".";
			const logo = "img/logo.svg";

			// Docsify
			window.$docsify = {
				// TODO: Base path inline concatenation is a temporary solution, and should be replaced with `urlJoin`, when this whole file moves to module imports
				name: `<div style="display: flex; align-items: center; justify-content: center"><img src="${basePath}/img/logo.svg" alt="Dungeon Together"><span style="margin-inline-start: 1em; text-wrap: nowrap">Dungeon Together</span></div>`,
				repo: "cpuabuse/dungeon-together",
				loadSidebar: true,
				homepage: "_homepage.md",
				subMaxLevel: 2,
				coverpage: true,
				alias: {
					// Note, if relativePath is set to `true`, it would recompute the sidebar links
					"/.*/_sidebar.md": "/_sidebar.md"
				},
				basePath
			};
		</script>
		<script src="//cdn.jsdelivr.net/npm/docsify@4"></script>

		<!-- Mermaid -->
		<script src="//cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.js"></script>
		<script src="//cdn.jsdelivr.net/npm/docsify-mermaid@2/dist/docsify-mermaid.js"></script>
		<script>
			mermaid.initialize({
				startOnLoad: true
			});
		</script>

		<!-- Latex -->
		<script src="//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
		<script src="//cdn.jsdelivr.net/npm/docsify-latex@0"></script>

		<!-- Icon; Note, module will be deferred by default -->
		<script type="module">
			import urlJoin from "https://cdn.jsdelivr.net/npm/url-join@5.0.0/+esm";

			// Firstly, favicon
			const link = document.createElement("link");
			link.type = "image/svg+xml";
			link.rel = "icon";
			link.href = urlJoin(basePath, logo);
			document.head.appendChild(link);
		</script>
	</body>
</html>
